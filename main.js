(()=>{"use strict";const e=document.querySelector(".city-div");const t=document.querySelector("#location-input");document.querySelector("#submit-btn").addEventListener("click",i=>{i.preventDefault(),async function(t){const i=await async function(e){if(!e)throw new Error("The city is required!");try{let t={};const i=await fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e}?key=V7NAKSYNRZ9LTZHF3ZNDUQXVD`);if(!i.ok)throw new Error(`HTTP error --- status: ${i.status}`);const n=await i.json();return console.log(n),t.city=n.address,t.temp=n.currentConditions.temp,t.description=n.currentConditions.conditions,t.feelsLike=n.currentConditions.feelsLike,t.precipitation=n.currentConditions.precip||0,t.wind=n.currentConditions.windspeed,t.forecast=n.days.slice(0,7).map(e=>({date:e.datetime,temp:e.temp,conditions:e.conditions,icon:e.icon})),t}catch(e){return console.error("Error retrieving weather data:",e),null}}(t);if(!i)throw new Error("No weather data available");const n=document.createElement("div");n.setAttribute("id","city-address-div");const r=document.createElement("p");r.setAttribute("id","city-address"),r.textContent=i.city,n.appendChild(r),e.appendChild(n)}(t.value),t.value=""})})();